<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;"></head> 
<body> 
<div style="position:absolute;top:0;right:0" id="console">
console
</div>
<script>
var iColor = 0; 
var canvas = document.createElement( 'canvas' );
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
canvas.style.display = 'block';
document.body.appendChild( canvas );

var context = canvas.getContext( '2d' );

document.addEventListener( 'mousemove', onMouseEvent, false );
document.addEventListener( 'touchstart', onTouchEvent, false );
document.addEventListener( 'touchmove', onTouchEvent, false );

function onMouseEvent( event ) {
  fill(event.clientX,event.clientY);
}

function onTouchEvent( event ) {
	event.preventDefault();
	for ( var i = 0; i < event.touches.length; i++ ) {
    fill(event.touches[i].pageX,event.touches[i].pageY);
	}
}

function fill(x,y){
  context.save();
  context.fillStyle="hsl("+iColor+", 100%, 50%)";
  context.fillRect(x,y,20,20);
  log('x'+x+'y'+y);
  context.restore();
  iColor = (iColor+1)%360;
}
function $(id){return document.getElementById(id);}
function log(txt){$('console').innerHTML=txt;};
</script></body></html> 
